(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{15:function(e,a,t){e.exports={button:"Button_button__3CpzS",container:"Button_container__2uMP5"}},16:function(e,a,t){e.exports={overlay:"Modal_overlay__jhp78",modal:"Modal_modal__21vlh"}},17:function(e,a,t){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__2a1y5",imageGalleryItem__image:"ImageGalleryItem_imageGalleryItem__image__1DB0W"}},28:function(e,a,t){e.exports={loader:"Loader_loader__3oMws"}},29:function(e,a,t){e.exports={imageGallery:"ImageGallery_imageGallery__2wnfF",title:"ImageGallery_title__13CNs",error:"ImageGallery_error__2OcOh"}},34:function(e,a,t){},75:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(4),c=t.n(o),l=(t(34),t(18)),i=t(5),s=t(6),u=t(8),m=t(7),h=t(12),g=(t(35),t(14)),d=t.n(g);d.a.defaults.baseURL="https://pixabay.com/api/";var b=function(e,a){var t="?image_type=photo&orientation=horizontal&q=".concat(e,"&page=").concat(a,"&per_page=12&key=").concat("23134758-68ab0efee1477745fc8aff6a6");return d.a.get(t)},p=t(27),_=t.n(p),j=t(28),f=t.n(j),y=t(1),v=function(){return Object(y.jsxs)("div",{children:[" ",Object(y.jsx)(_.a,{className:f.a.loader,type:"TailSpin",color:"#3f51b5",height:80,width:80}),"; loading ..."]})},O=t(15),x=t.n(O),w=function(e){var a=e.loadMore;return Object(y.jsx)("div",{className:x.a.container,children:Object(y.jsx)("button",{type:"button",className:x.a.button,onClick:a,children:"Load more"})})},S=t(16),C=t.n(S),I=document.querySelector("#modal-root"),k=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).handleKeydown=function(a){"Escape"===a.code&&e.props.onClose()},e.handleCloseClick=function(a){a.currentTarget===a.target&&e.props.onClose()},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){var e=this.props,a=e.largeImageURL,t=e.tags;return Object(o.createPortal)(Object(y.jsx)("div",{className:C.a.overlay,onClick:this.handleCloseClick,children:Object(y.jsx)("div",{className:C.a.modal,children:Object(y.jsx)("img",{src:a,alt:t})})}),I)}}]),t}(r.Component),M=k,q=t(9),L=t.n(q),F=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={query:""},e.handleSubmit=function(a){if(a.preventDefault(),""===e.state.query.trim())return h.b.error("Enter a normal query!");e.props.onSubmit(e.state.query),e.setState({query:""})},e.handlEqueryChange=function(a){e.setState({query:a.target.value.toLowerCase()})},e}return Object(s.a)(t,[{key:"render",value:function(){return Object(y.jsx)("header",{className:L.a.searchbar,children:Object(y.jsxs)("form",{className:L.a.searchForm,onSubmit:this.handleSubmit,children:[Object(y.jsx)("button",{type:"submit",className:L.a.searchForm__button,children:Object(y.jsx)("span",{className:L.a.searchForm__label,children:"Search images and fotos"})}),Object(y.jsx)("input",{className:L.a.searchForm__input,type:"text",name:"search",value:this.state.query,placeholder:"Search images and photos",onChange:this.handlEqueryChange})]})})}}]),t}(r.Component),G=F,N=t(17),U=t.n(N),R=function(e){var a=e.tags,t=e.webformatURL,r=e.largeImageURL,n=e.onClick;return Object(y.jsx)("li",{className:U.a.imageGalleryItem,children:Object(y.jsx)("img",{src:t,alt:a,className:U.a.imageGalleryItem__image,onClick:function(){return n(a,r)}})})},E=t(29),A=t.n(E);function D(e){var a=e.images,t=e.onImageClick;return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)("ul",{className:A.a.imageGallery,children:a.map((function(e){var a=e.id,r=e.tags,n=e.webformatURL,o=e.largeImageURL;return Object(y.jsx)(R,{tags:r,webformatURL:n,largeImageURL:o,onClick:t},a)}))})})}var B=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={query:"",images:[],page:1,error:null,showModal:!1,tags:"",largeImageURL:"",loading:!1},e.handleFormSubmit=function(a){e.setState({query:a,page:1,images:[]})},e.fetchApi=function(){var a=e.state,t=a.query,r=a.page;b(t,r).then((function(a){var t=a.data.hits;e.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(t)),page:e.page+1}}))})).catch((function(a){return e.setState({error:a})})).finally((function(){return e.setState({loading:!1})}))},e.loadMore=function(){e.fetchApi(e.state.page)},e.pageScroll=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.onImageClick=function(a,t){e.setState({tags:a,largeImageURL:t}),e.toggleModal()},e}return Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,a){var t=a.query,r=this.state,n=r.query,o=r.page,c=r.images;t!==n&&(this.setState({loading:!0}),this.fetchApi(n,o)),c.length>12&&this.pageScroll()}},{key:"render",value:function(){var e=this.state,a=e.showModal,t=e.tags,r=e.largeImageURL,n=e.query,o=e.page,c=e.images,l=e.loading;return Object(y.jsxs)("div",{children:[Object(y.jsx)(G,{onSubmit:this.handleFormSubmit}),l&&Object(y.jsx)(v,{}),c&&Object(y.jsx)(D,{query:n,page:o,images:c,loadMore:this.loadMore,onImageClick:this.onImageClick}),c.length>=12&&Object(y.jsx)(w,{loadMore:this.loadMore}),a&&Object(y.jsx)(M,{onClose:this.toggleModal,tags:t,largeImageURL:r}),Object(y.jsx)(h.a,{autoClose:5e3})]})}}]),t}(r.Component),T=B;c.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(T,{})}),document.getElementById("root"))},9:function(e,a,t){e.exports={searchbar:"Searchbar_searchbar__1GD99",searchForm:"Searchbar_searchForm__3w4_y",searchForm__button:"Searchbar_searchForm__button__6TM4L",searchForm__label:"Searchbar_searchForm__label__2Voyn",searchForm__input:"Searchbar_searchForm__input__3-86c"}}},[[75,1,2]]]);
//# sourceMappingURL=main.f38b4239.chunk.js.map