{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","services/pixabay-api.js","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","axios","defaults","baseURL","getPicturesPixabayApi","query","page","params","get","loader","className","s","type","color","height","width","Button","loadMore","container","button","onClick","modalRoot","document","querySelector","Modal","handleKeydown","e","code","props","onClose","handleCloseClick","currentTarget","target","window","addEventListener","this","removeEventListener","largeImageURL","tags","createPortal","overlay","modal","src","alt","Component","Searchbar","state","handleSubmit","preventDefault","trim","toast","error","onSubmit","setState","handlEqueryChange","value","toLowerCase","searchbar","searchForm","searchForm__button","searchForm__label","searchForm__input","name","placeholder","onChange","ImageGalleryItem","webformatURL","imageGalleryItem","imageGalleryItem__image","ImageGallery","images","onImageClick","imageGallery","map","id","App","showModal","loading","handleFormSubmit","fetchApi","then","hits","data","prevState","catch","finally","pageScroll","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","prevProps","prevQuery","length","Loader","style","padding","textAlign","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9c722393.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3CpzS\",\"container\":\"Button_container__2uMP5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__jhp78\",\"modal\":\"Modal_modal__21vlh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2a1y5\",\"imageGalleryItem__image\":\"ImageGalleryItem_imageGalleryItem__image__1DB0W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3oMws\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2wnfF\",\"title\":\"ImageGallery_title__13CNs\",\"error\":\"ImageGallery_error__2OcOh\"};","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst KEY_API = '23134758-68ab0efee1477745fc8aff6a6';\n\naxios.defaults.baseURL = BASE_URL;\n\nfunction getPicturesPixabayApi(query, page) {\n  let params = `?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${KEY_API}`;\n\n  return axios.get(params);\n}\n\nexport default getPicturesPixabayApi;\n","import Loader from 'react-loader-spinner';\r\n\r\nimport s from './Loader.module.css';\r\n\r\nconst loader = () => (\r\n  <div>\r\n    {' '}\r\n    <Loader\r\n      className={s.loader}\r\n      type=\"TailSpin\"\r\n      color=\"#3f51b5\"\r\n      height={80}\r\n      width={80}\r\n    />\r\n    ; loading ...\r\n  </div>\r\n);\r\n\r\nexport default loader;\r\n","import PropTypes from 'prop-types';\n\nimport s from './Button.module.css';\n\nconst Button = ({ loadMore }) => (\n  <div className={s.container}>\n    <button type=\"button\" className={s.button} onClick={loadMore}>\n      Load more\n    </button>\n  </div>\n);\n\nButton.propTypes = {\n  loadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport PropTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleKeydown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleCloseClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { largeImageURL, tags } = this.props;\n\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleCloseClick}>\n        <div className={s.modal}>\n          {/* {this.props.children} */}\n          <img src={largeImageURL} alt={tags} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n};\n\nexport default Modal;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\n\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.query.trim() === '') {\n      return toast.error('Enter a normal query!');\n    }\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  handlEqueryChange = e => {\n    this.setState({ query: e.target.value.toLowerCase() });\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.searchForm__button}>\n            <span className={s.searchForm__label}>Search images and fotos</span>\n          </button>\n          <input\n            className={s.searchForm__input}\n            type=\"text\"\n            name=\"search\"\n            value={this.state.query}\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handlEqueryChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\n\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ tags, webformatURL, largeImageURL, onClick }) => (\n  <li className={s.imageGalleryItem}>\n    <img\n      src={webformatURL}\n      alt={tags}\n      className={s.imageGalleryItem__image}\n      onClick={() => onClick(tags, largeImageURL)}\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  tags: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ images, onImageClick }) {\n  return (\n    <>\n      <ul className={s.imageGallery}>\n        {images.map(({ id, tags, webformatURL, largeImageURL }) => (\n          <ImageGalleryItem\n            key={id}\n            tags={tags}\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            onClick={onImageClick}\n          />\n        ))}\n      </ul>\n    </>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport getPicturesPixabayApi from '../../services/pixabay-api';\n\nimport Loader from '../Loader/Loader';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\n\nclass App extends Component {\n  state = {\n    query: '',\n    images: [],\n    page: 1,\n    error: null,\n    showModal: false,\n    tags: '',\n    largeImageURL: '',\n    loading: false,\n  };\n\n  handleFormSubmit = query => {\n    this.setState({ query, page: 1, images: [] });\n  };\n\n  fetchApi = () => {\n    const { query, page } = this.state;\n\n    getPicturesPixabayApi(query, page)\n      .then(({ data: { hits } }) => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  loadMore = () => {\n    this.fetchApi(this.state.page);\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const { query, page, images } = this.state;\n\n    if (prevQuery !== query) {\n      this.setState({ loading: true });\n      this.fetchApi(query, page);\n    }\n\n    if (images.length > 12) {\n      this.pageScroll();\n    }\n  }\n\n  pageScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onImageClick = (tags, largeImageURL) => {\n    this.setState({ tags, largeImageURL });\n    this.toggleModal();\n  };\n\n  render() {\n    const { showModal, tags, largeImageURL, query, page, images, loading } =\n      this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n\n        {loading && <Loader />}\n\n        {images.length > 0 ? (\n          <ImageGallery\n            query={query}\n            page={page}\n            images={images}\n            loadMore={this.loadMore}\n            onImageClick={this.onImageClick}\n          />\n        ) : (\n          <h2\n            style={{ padding: '10px 20px', textAlign: 'center', color: 'red' }}\n          >\n            Error, please repeat the request or change the input language\n          </h2>\n        )}\n\n        {images.length >= 12 && <Button loadMore={this.loadMore} />}\n\n        {showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            tags={tags}\n            largeImageURL={largeImageURL}\n          />\n        )}\n\n        <ToastContainer autoClose={5000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1GD99\",\"searchForm\":\"Searchbar_searchForm__3w4_y\",\"searchForm__button\":\"Searchbar_searchForm__button__6TM4L\",\"searchForm__label\":\"Searchbar_searchForm__label__2Voyn\",\"searchForm__input\":\"Searchbar_searchForm__input__3-86c\"};"],"sourceRoot":""}