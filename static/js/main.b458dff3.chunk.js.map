{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Modal/Modal.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","services/pixabay-api.js","components/ImageGallery/ImageGallery.jsx","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal","handleKeydown","e","code","props","onClose","handleCloseClick","currentTarget","target","window","addEventListener","this","removeEventListener","largeImageURL","tags","createPortal","className","s","overlay","onClick","modal","src","alt","Component","Searchbar","state","query","handleSubmit","preventDefault","trim","toast","error","onSubmit","setState","handlEqueryChange","value","toLowerCase","searchbar","searchForm","type","searchForm__button","searchForm__label","searchForm__input","name","placeholder","onChange","ImageGalleryItem","webformatURL","imageGalleryItem","imageGalleryItem__image","Button","loadMore","container","button","loader","color","height","width","axios","defaults","baseURL","getPicturesPixabayApi","page","params","get","Status","ImageGallery","images","status","prevState","prevProps","prevQuery","nextQuery","then","hits","data","catch","scrollTo","top","documentElement","scrollHeight","behavior","onImageClick","title","Loader","imageGallery","map","id","App","showModal","handleFormSubmit","toggleModal","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b458dff3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__Drf_A\",\"title\":\"ImageGallery_title__WoDcb\",\"error\":\"ImageGallery_error__OAC05\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__xPXOl\",\"modal\":\"Modal_modal__2OyxV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2GnOn\",\"imageGalleryItem__image\":\"ImageGalleryItem_imageGalleryItem__image__1OTdy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1Oxc2\",\"container\":\"Button_container__1_Qpr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2e386\"};","import React from 'react';\r\nimport { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleCloseClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL, tags } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.handleCloseClick}>\r\n        <div className={s.modal}>\r\n          {/* {this.props.children} */}\r\n          <img src={largeImageURL} alt={tags} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.query.trim() === '') {\r\n      return toast.error('Enter a normal query!');\r\n    }\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  handlEqueryChange = e => {\r\n    this.setState({ query: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form className={s.searchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.searchForm__button}>\r\n            <span className={s.searchForm__label}>Search images and fotos</span>\r\n          </button>\r\n          <input\r\n            className={s.searchForm__input}\r\n            type=\"text\"\r\n            name=\"search\"\r\n            value={this.state.query}\r\n            // autocomplete=\"off\"\r\n            // autofocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handlEqueryChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ tags, webformatURL, largeImageURL, onClick }) => (\r\n  <li className={s.imageGalleryItem}>\r\n    <img\r\n      src={webformatURL}\r\n      alt={tags}\r\n      className={s.imageGalleryItem__image}\r\n      onClick={() => onClick(tags, largeImageURL)}\r\n    />\r\n  </li>\r\n);\r\n\r\nImageGalleryItem.propTypes = {\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ loadMore }) => (\r\n  <div className={s.container}>\r\n    <button type=\"button\" className={s.button} onClick={loadMore}>\r\n      Load more\r\n    </button>\r\n  </div>\r\n);\r\n\r\nButton.propTypes = {\r\n  loadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import Loader from 'react-loader-spinner';\n\nimport s from './Loader.module.css';\n\nconst loader = () => (\n  <div>\n    {' '}\n    <Loader\n      className={s.loader}\n      type=\"TailSpin\"\n      color=\"#3f51b5\"\n      height={80}\n      width={80}\n    />\n    ; loading ...\n  </div>\n);\n\nexport default loader;\n","import axios from 'axios';\r\n\r\nconst BASE_URL =\r\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal';\r\nconst KEY_API = '23134758-68ab0efee1477745fc8aff6a6';\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nfunction getPicturesPixabayApi(query, page) {\r\n  let params = `&q=${query}&page=${page}&per_page=12&key=${KEY_API}`;\r\n\r\n  // const { data: { hits },} = axios.get(params);\r\n\r\n  // return hits;\r\n  return axios.get(params);\r\n}\r\n\r\n// export const api = {\r\n//   getPicturesPixabayApi,\r\n// };\r\n\r\nexport default getPicturesPixabayApi;\r\n","import { Component } from 'react';\n\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport Loader from '../Loader/Loader';\nimport getPicturesPixabayApi from '../../services/pixabay-api';\n\nimport s from './ImageGallery.module.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass ImageGallery extends Component {\n  state = {\n    images: [],\n    page: 1,\n    error: null,\n    status: Status.IDLE,\n  };\n\n  // componentDidMount() {\n  //   this.loadImages();\n  // }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevProps.query;\n    const nextQuery = this.props.query;\n    const { page } = this.state;\n\n    if (prevQuery !== nextQuery) {\n      this.setState({ status: Status.PENDING });\n      // this.loadImages();\n      getPicturesPixabayApi(nextQuery, page)\n        .then(({ data: { hits } }) =>\n          this.setState({ images: hits, status: Status.RESOLVED }),\n        )\n        .catch(error => this.setState({ error, status: Status.REJECTED }));\n    }\n\n    if (prevState.page !== this.state.page) {\n      this.setState({ status: Status.PENDING });\n      // this.loadImages();\n      getPicturesPixabayApi(this.props.query, page)\n        .then(({ data: { hits } }) =>\n          this.setState(prevState => ({\n            images: [...prevState.images, ...hits],\n            status: Status.RESOLVED,\n          })),\n        )\n        .catch(error => this.setState({ error, status: Status.REJECTED }));\n    }\n\n    if (page > 1) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  // loadImages = () => {\n  //   this.setState({ status: Status.PENDING });\n  //   const { page } = this.state;\n\n  //   getPicturesPixabayApi(this.props.query, page)\n  //     .then(({ data: { hits } }) =>\n  //       this.setState(prevState => ({\n  //         images: [...prevState.images, ...hits],\n  //         status: Status.RESOLVED,\n  //       })),\n  //     )\n  //     .catch(error => this.setState({ error, status: Status.REJECTED }));\n  // };\n\n  loadMore = () => {\n    this.setState(prevState => {\n      return { page: prevState.page + 1 };\n    });\n  };\n\n  render() {\n    const { images } = this.state;\n    const { onImageClick } = this.props;\n    const { status } = this.state;\n\n    if (status === Status.IDLE) {\n      return <h2 className={s.title}>Enter name image</h2>;\n    }\n\n    if (status === Status.PENDING) {\n      return <Loader />;\n    }\n\n    if (status === Status.REJECTED) {\n      return <h2 className={s.error}>ERROR</h2>;\n    }\n\n    if (status === Status.RESOLVED) {\n      return (\n        <>\n          <ul className={s.imageGallery}>\n            {images.map(({ id, tags, webformatURL, largeImageURL }) => (\n              <ImageGalleryItem\n                key={id}\n                tags={tags}\n                webformatURL={webformatURL}\n                largeImageURL={largeImageURL}\n                onClick={onImageClick}\n              />\n            ))}\n          </ul>\n          <Button loadMore={this.loadMore} />\n        </>\n      );\n    }\n  }\n}\n\nImageGallery.propTypes = {\n  query: PropTypes.string.isRequired,\n  getPicturesPixabayApi: PropTypes.func.isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Modal from '../Modal/Modal';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\n\nclass App extends Component {\n  state = {\n    query: '',\n    showModal: false,\n    tags: '',\n    largeImageURL: '',\n  };\n\n  handleFormSubmit = query => {\n    this.setState({ query });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onImageClick = (tags, largeImageURL) => {\n    this.setState({ tags, largeImageURL });\n    this.toggleModal();\n  };\n\n  render() {\n    const { showModal, tags, largeImageURL, query } = this.state;\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery query={query} onImageClick={this.onImageClick} />\n        {showModal && (\n          <Modal\n            onClose={this.toggleModal}\n            tags={tags}\n            largeImageURL={largeImageURL}\n          />\n        )}\n        <ToastContainer autoClose={5000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\n// import reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__zjGgs\",\"searchForm\":\"Searchbar_searchForm__WTZMP\",\"searchForm__button\":\"Searchbar_searchForm__button__3X9GV\",\"searchForm__label\":\"Searchbar_searchForm__label__FTNlA\",\"searchForm__input\":\"Searchbar_searchForm__input__2Q47L\"};"],"sourceRoot":""}